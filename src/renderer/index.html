<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MarkVue</title>
  <link rel="stylesheet" href="styles.css">
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/highlight.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.9.0/build/styles/github-dark.min.css">
</head>
<body x-data="markdownViewer()" x-init="init()">
  
  <!-- Header -->
  <header>
    <div class="header-content">
      <h1>MarkVue</h1>
      <div class="controls">
        <!-- Search Bar -->
        <div x-show="content" class="search-container">
          <input 
            type="text" 
            x-model="searchQuery"
            @input="performSearch()"
            @keydown.escape="closeSearch()"
            @keydown.enter.prevent="nextMatch()"
            @keydown.shift.enter.prevent="previousMatch()"
            placeholder="Search (Ctrl+F)"
            class="search-input"
            x-ref="searchInput"
          >
          <div x-show="searchQuery" class="search-results">
            <span x-text="`${currentMatchIndex + 1} / ${matchCount}`"></span>
            <button @click="previousMatch()" class="search-nav" title="Previous (Shift+Enter)">‚Üë</button>
            <button @click="nextMatch()" class="search-nav" title="Next (Enter)">‚Üì</button>
            <button @click="closeSearch()" class="search-close" title="Close (Esc)">√ó</button>
          </div>
        </div>
        <button @click="toggleTheme()" x-text="theme === 'dark' ? '‚òÄÔ∏è' : 'üåô'"></button>
        <button @click="showAbout = true" class="about-button" title="About the Author">‚ÑπÔ∏è</button>
        <span x-show="fileName" x-text="fileName" class="filename"></span>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main>
    <div x-show="!content" class="welcome">
      <h2>Welcome to MarkVue</h2>
      <p>Open a markdown file to get started</p>
      <p class="hint">File ‚Üí Open (Ctrl+O)</p>
      <button @click="showAbout = true" class="about-link">About the Author</button>
    </div>
    
    <article 
      x-show="content" 
      class="markdown-body"
      x-html="renderedContent"
      x-ref="markdownContent"
    ></article>
  </main>

  <!-- About Modal -->
  <div 
    x-show="showAbout" 
    x-cloak
    @click.away="showAbout = false"
    @keydown.escape.window="showAbout = false"
    class="modal-overlay"
    x-transition
  >
    <div 
      class="modal-content"
      @click.stop
      x-transition
    >
      <div class="modal-header">
        <h2>About the Author</h2>
        <button @click="showAbout = false" class="modal-close" title="Close (Esc)">√ó</button>
      </div>
      <div class="modal-body">
        <div class="author-info">
          <h3>Jerome Heuze</h3>
          <p class="author-description">
            Developer passionate about creating tools that solve real problems. 
            MarkVue was built to address the gap in markdown viewing on Windows, 
            especially for users working with AI-generated content.
          </p>
          <div class="author-links">
            <a href="https://www.linkedin.com/in/jeromeheuze" target="_blank" rel="noopener noreferrer" class="author-link">
              LinkedIn
            </a>
            <a href="https://jeromeheuze.com" target="_blank" rel="noopener noreferrer" class="author-link">
              Website
            </a>
            <a href="https://github.com/jeromeheuze" target="_blank" rel="noopener noreferrer" class="author-link">
              GitHub
            </a>
          </div>
        </div>
        <div class="modal-footer">
          <p class="app-version">MarkVue v1.0.1</p>
          <p class="app-description">
            Beautiful markdown viewer for Windows, built for the AI era.
          </p>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>

